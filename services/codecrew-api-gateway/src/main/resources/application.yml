server:
  port: ${SERVER_PORT:8443}
  compression:
    enabled: true
  shutdown: graceful

management:
  server:
    port: ${MANAGEMENT_PORT:20011}

logging:
  level:
    reactor.netty.http.client: DEBUG
    reactor.netty.transport: DEBUG
    reactor.netty.resources: DEBUG

spring:
  reactor:
    context-propagation: auto
  application:
    name: codecrew-api-gateway
  config:
    import:
      - logging.yml
      - monitoring.yml
      - classpath:application-cors.yml
      - classpath:application-filter.yml
      - classpath:application-route.yml
  cloud:
    gateway:
      server:
        webflux:
          discovery:
            locator:
              enabled: false
          httpclient:
            response-timeout: 10s
            connect-timeout: 3000
            pool:
              type: FIXED
              max-connections: 300
              acquire-timeout: 3000
              max-idle-time: 1s
              max-life-time: 0s
              eviction-interval: 1s
            compression: true
            wiretap: false
            ssl:
              use-insecure-trust-manager: false
              handshake-timeout: 10s
